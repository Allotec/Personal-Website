[tasks.clean-dist]
command = "trunk"
args = ["clean", "--cargo"]

[tasks.clean-release]
command = "trunk"
args = ["clean", "--cargo", "--dist", "release"]

[tasks.run-dev]
dependencies = ["clean-dist"]
command = "trunk"
args = ["serve", "--open"]

[tasks.run-release]
dependencies = ["clean-release"]
command = "trunk"
args = [
    "build",
    "--release",
    "--minify",
    "--dist",
    "docs",
    "--public-url",
    "/Personal-Website/",
]

[tasks.update-pages]
dependencies = ["run-release"]
command = "git"
args = ["subtree", "push", "--prefix", "docs", "origin", "gh-pages"]
